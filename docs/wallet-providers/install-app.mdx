---
title: 'Install App'
api: 'POST /user/{appId}/install-app'
---

Start the installation process by providing the user's wallet address. Returns typed data that must be signed by the user.

This endpoint handles both new installations and reinstalling previously uninstalled apps:
- **New installation**: Mints a new agent signer and permits the app
- **Reinstall**: If the user previously uninstalled the app, automatically detects this and reinstalls it with the existing agent signer

## Request

<ParamField path="appId" type="integer" required>
  The unique identifier of the app to install
</ParamField>

<ParamField body="userControllerAddress" type="string" required>
  The Ethereum address of the user's wallet
</ParamField>

<ParamField body="sponsorGas" type="boolean" default="true">
  Controls the transaction submission method:
  - `true` (default): Returns EIP-712 typed data for gas-sponsored relay via Gelato. The user signs the typed data and submits it to the complete-installation endpoint.
  - `false`: Returns raw transaction data (`to` and `data` fields) that the user can submit directly from their EOA, paying gas themselves. Useful for development or when gas sponsorship is not desired.
</ParamField>

## Response

<ResponseField name="agentSignerAddress" type="string">
  The signer address for the agent smart account. Only the delegated app can use this signer to execute transactions.
</ResponseField>

<ResponseField name="agentSmartAccountAddress" type="string">
  The smart account address for the agent. Each app has its own agent wallet, owned by the user's EOA.
</ResponseField>

<ResponseField name="rawTransaction" type="object">
  Raw transaction data for direct EOA submission. Only returned when `sponsorGas: false`. The user submits this transaction directly from their wallet, paying gas themselves.

  <Expandable title="properties">
    <ResponseField name="to" type="string">
      The target contract address
    </ResponseField>
    <ResponseField name="data" type="string">
      The encoded transaction data (calldata)
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="appInstallationDataToSign" type="object">
  EIP-712 typed data that the user must sign to complete installation. Only returned when `sponsorGas: true` (default). Pass this object to the complete-installation endpoint along with the signature.

  <Expandable title="properties">
    <ResponseField name="typedData" type="object">
      <Expandable title="properties">
        <ResponseField name="domain" type="object">
          EIP-712 domain separator
        </ResponseField>
        <ResponseField name="types" type="object">
          EIP-712 type definitions
        </ResponseField>
        <ResponseField name="message" type="object">
          The message to be signed
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>
```bash cURL (Gas Sponsored - Default)
curl -X POST https://api.heyvincent.ai/user/123/install-app \
  -H "Content-Type: application/json" \
  -d '{"userControllerAddress": "0xUserWalletAddress..."}'
```

```bash cURL (Direct EOA Submission)
curl -X POST https://api.heyvincent.ai/user/123/install-app \
  -H "Content-Type: application/json" \
  -d '{"userControllerAddress": "0xUserWalletAddress...", "sponsorGas": false}'
```

```typescript TypeScript (Gas Sponsored)
const response = await fetch(`https://api.heyvincent.ai/user/${appId}/install-app`, {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    userControllerAddress: userWallet.address
  })
});

const installData = await response.json();
// User signs the typed data, then submit to complete-installation endpoint
```

```typescript TypeScript (Direct EOA)
const response = await fetch(`https://api.heyvincent.ai/user/${appId}/install-app`, {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    userControllerAddress: userWallet.address,
    sponsorGas: false
  })
});

const { rawTransaction } = await response.json();
// Submit transaction directly from user's wallet
await userWallet.sendTransaction({
  to: rawTransaction.to,
  data: rawTransaction.data
});
```
</RequestExample>

<ResponseExample>
```json Response (Gas Sponsored - Default)
{
  "agentSignerAddress": "0xPKPAddress...",
  "agentSmartAccountAddress": "0xSmartAccountAddress...",
  "appInstallationDataToSign": {
    "typedData": {
      "domain": { "...": "..." },
      "types": { "...": "..." },
      "message": { "...": "..." }
    }
  }
}
```

```json Response (Direct EOA)
{
  "agentSignerAddress": "0xPKPAddress...",
  "agentSmartAccountAddress": "0xSmartAccountAddress...",
  "rawTransaction": {
    "to": "0xVincentContractAddress...",
    "data": "0x..."
  }
}
```
</ResponseExample>
