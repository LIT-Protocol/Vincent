---
title: Creating an App
---

Set up your Vincent development environment and integrate it into your project using our setup scripts.

## Step 1: Configure Environment Variables

To start onboarding your application onto Vincent, add the following environment variables to your project's `.env` file:

```bash
TEST_FUNDER_PRIVATE_KEY='<Funder Private Key Here>'
TEST_APP_MANAGER_PRIVATE_KEY='<App Manager Private Key Here>'
TEST_APP_DELEGATEE_PRIVATE_KEY='<Delegatee Private Key here>'
TEST_AGENT_WALLET_PKP_OWNER_PRIVATE_KEY='<Agent Wallet Owner Private Key here>'
```

<Warning>
**Security Note:** These are test environment private keys. Never commit your `.env` file to version control. Add it to your `.gitignore` file.
</Warning>

<Info>
The `TEST_APP_DELEGATEE_PRIVATE_KEY` and `TEST_AGENT_WALLET_PKP_OWNER_PRIVATE_KEY` are not used in the initial setup, but will be required later for testing ability execution.
</Info>

## Step 2: Fund Your Wallets

Go to the [Lit Protocol Faucet](https://chronicle-yellowstone-faucet.getlit.dev/) and claim some `tstLPX` tokens for the Ethereum wallet address that corresponds to the `TEST_FUNDER_PRIVATE_KEY`.

The funder wallet will automatically fund the App Manager wallet to ensure it has enough tokens to cover the gas fees necessary to interact with the Vincent Contract.

## Step 3: Install Required Packages

Install the necessary Vincent packages for your project. **Replace `@lit-protocol/vincent-ability-aerodrome-swap` with your chosen Vincent ability and policy packages:**

<CodeGroup>
```bash npm
npm install -D tsx
npm install @lit-protocol/vincent-ability-aerodrome-swap @dotenvx/dotenvx @lit-protocol/vincent-e2e-test-utils @lit-protocol/vincent-contracts-sdk ethers@5
```

```bash yarn
yarn add -D tsx
yarn add @lit-protocol/vincent-ability-aerodrome-swap @dotenvx/dotenvx @lit-protocol/vincent-e2e-test-utils @lit-protocol/vincent-contracts-sdk ethers@5
```

```bash pnpm
pnpm add -D tsx
pnpm add @lit-protocol/vincent-ability-aerodrome-swap @dotenvx/dotenvx @lit-protocol/vincent-e2e-test-utils @lit-protocol/vincent-contracts-sdk ethers@5
```
</CodeGroup>

### Choosing Abilities and Policies

If you're unsure about what Vincent abilities and policies to use for your app, explore these resources:

<CardGroup cols={2}>
  <Card title="Official Abilities" icon="puzzle-piece" href="/ability/official-abilities">
    Browse pre-built abilities for common use cases
  </Card>
  <Card title="Create Custom Ability" icon="wrench" href="/ability/quickstart">
    Build your own ability using the Vincent Ability Starter Kit
  </Card>
</CardGroup>

## Step 4: Create Your Development Setup Script

Create a file called `vincent-app-setup.ts` in your project. This script will set up your Vincent development environment.

<Warning>
**Important:** The code below uses the Aerodrome Swap ability as an example. You must replace the following to match your chosen ability and policies:

1. **`.env` file path** - Update `config({ path: ... })` to point to your `.env` file location
2. **Ability import** - Replace `@lit-protocol/vincent-ability-aerodrome-swap` with your ability package
3. **PERMISSION_DATA object** - Update with your ability's IPFS CID and associated policies

Look for `TODO` comments in the code to locate these sections.
</Warning>

```typescript
import { config } from '@dotenvx/dotenvx';
import { resolve } from 'path';

// Load environment variables from .env file in the same directory
// TODO: Set this path to the location of the .env file in your project
config({ path: resolve(__dirname, '../.env'), override: false });

import {
  delegator,
  delegatee,
  appManager,
  getChainHelpers,
  type PkpInfo,
} from '@lit-protocol/vincent-e2e-test-utils';
import { type PermissionData } from '@lit-protocol/vincent-contracts-sdk';
import { type Wallet } from 'ethers';

// TODO: Import your bundled abilities here.
import {
  bundledVincentAbility,
} from '@lit-protocol/vincent-ability-evm-transaction-signer';

export interface SetupResult {
  agentPkpInfo: PkpInfo;
  wallets: {
    appDelegatee: Wallet;
    funder: Wallet;
    appManager: Wallet;
    agentWalletOwner: Wallet;
  };
  appId: number;
  appVersion: number;
}

export async function setupVincentDevelopmentEnvironment(): Promise<SetupResult> {
  let agentPkpInfo: PkpInfo;
  let wallets: {
    appDelegatee: Wallet;
    funder: Wallet;
    appManager: Wallet;
    agentWalletOwner: Wallet;
  };

  await appManager.ensureAppManagerFunded();

  const chainHelpers = await getChainHelpers();
  wallets = chainHelpers.wallets;

  // TODO: Update permission data with your abilities and policies
  const PERMISSION_DATA: PermissionData = {
    // EVM Transaction Signer Ability has no policies
    // If yours does, you would add the policies to this object
    [bundledVincentAbility.ipfsCid]: {},
  };

  const abilityIpfsCids: string[] = Object.keys(PERMISSION_DATA);
  const abilityPolicies: string[][] = abilityIpfsCids.map((abilityIpfsCid) => {
    return Object.keys(PERMISSION_DATA[abilityIpfsCid]);
  });

  // If an app exists for the delegatee, we will create a new app version with the new ipfs cids
  // Otherwise, we will create an app w/ version 1 appVersion with the new ipfs cids
  const existingApp = await delegatee.getAppInfo();
  let appId: number;
  let appVersion: number;
  if (!existingApp) {
    const newApp = await appManager.registerNewApp({ abilityIpfsCids, abilityPolicies });
    appId = newApp.appId;
    appVersion = newApp.appVersion;
  } else {
    const newAppVersion = await appManager.registerNewAppVersion({
      abilityIpfsCids,
      abilityPolicies,
    });
    appId = existingApp.appId;
    appVersion = newAppVersion.appVersion;
  }
  console.log('App ID: ', appId);
  console.log('App Version: ', appVersion);

  agentPkpInfo = await delegator.getFundedAgentPkp();

  await delegator.permitAppVersionForAgentWalletPkp({
    permissionData: PERMISSION_DATA,
    appId,
    appVersion,
    agentPkpInfo,
  });

  await delegator.addPermissionForAbilities(
    wallets.agentWalletOwner,
    agentPkpInfo.tokenId,
    abilityIpfsCids,
  );

  return {
    agentPkpInfo,
    wallets,
    appId,
    appVersion,
  };
}

// Run setup if this file is executed directly
if (require.main === module) {
  (async () => {
    await setupVincentDevelopmentEnvironment();
    console.log('Vincent development setup ready!');
  })();
}
```

## Step 5: Run the Setup Script

Execute your setup script using `tsx`:

<CodeGroup>
```bash npm
npx tsx vincent-app-setup.ts
```

```bash yarn
yarn tsx vincent-app-setup.ts
```

```bash pnpm
pnpm tsx vincent-app-setup.ts
```
</CodeGroup>

You should see output similar to:

```
0x6D9708ED15d46Caf1BcA3A6bf0eF0B056a941427 has a PKP -- using existing PKP with ethAddress: 0x67B448A84A08597EC9A2af91c65b3795453000C3, tokenId: 25486173902463030219270762983493355811257889964037840200490360463056502161384
ℹ️  0x67B448A84A08597EC9A2af91c65b3795453000C3 has 0.01 Lit test tokens
✅ Agent PKP: 0x67B448A84A08597EC9A2af91c65b3795453000C3
ℹ️  Saved test config: App ID: 78065638714, App Version: 1, Agent PKP: 0x67B448A84A08597EC9A2af91c65b3795453000C3
Auto estimatedGas:  BigNumber { _hex: '0x048f2b', _isBigNumber: true }
Permitted App with ID 78065638714 and version 1 for Agent Wallet PKP 0x67B448A84A08597EC9A2af91c65b3795453000C3
Tx hash: 0x51739022da7512dd5b4efc49af2324133d8672d6afc74ce62df886fc3c09acc0
Permitting ability: QmVkCzCUcBnKcdWbbagNbeAQK1KvTot5hKHvtKpsCPvUEt with ability to sign on behalf of user's agent PKP 25486173902463030219270762983493355811257889964037840200490360463056502161384
Vincent development setup ready!
```

<Success>
**Congratulations!** You've now initialized a Vincent App for development!
</Success>

## What's Next?

<Card title="Development and Testing" icon="flask" href="/app/development-and-testing">
  Learn how to develop and test your Vincent App locally
</Card>

## Want a Full Example Instead?

If you'd prefer to explore a complete working application rather than integrating Vincent into your own project, check out our App Starter Kit:

<Card title="App Starter Kit" icon="github" href="/app/app-starter-kit">
  Explore a pre-configured template with video tutorial
</Card>
