---
registry-sdk: minor
contracts-sdk: minor
registry-backend: minor
---

Add unpermit, repermit, and agent funds endpoints

**registry-backend:**

- Add `POST /user/:appId/unpermit-app` endpoint to initiate permission revocation
- Add `POST /user/:appId/complete-unpermit` endpoint to complete unpermit with signed data
- Add `POST /user/:appId/repermit-app` endpoint to initiate permission re-grant
- Add `POST /user/:appId/complete-repermit` endpoint to complete repermit with signed data
- Add `POST /user/:appId/agent-funds` endpoint to fetch agent token balances via Alchemy Portfolio API
- Add integration tests for agent funds endpoint

**registry-sdk:**

- Add `POST /user/:appId/unpermit-app` endpoint schema
- Add `POST /user/:appId/complete-unpermit` endpoint schema
- Add `POST /user/:appId/repermit-app` endpoint schema
- Add `POST /user/:appId/complete-repermit` endpoint schema
- Add `POST /user/:appId/agent-funds` endpoint schema
- Regenerate RTK clients

**contracts-sdk:**

- Add `deriveAgentAddress(publicClient, userControllerAddress, appId)` function for deriving agent smart account addresses
- Export function from package index
