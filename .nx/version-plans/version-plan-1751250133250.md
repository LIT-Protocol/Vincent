---
lit-action-bundler-rollup: premajor
---

### Initial implementation scaffolding of lit-action-bundler-rollup

Defined initial set of Rollup plugin configurations to facilitate bundling of LIT actions using Rollup.

- Using `inject` plugin to ensure that global references to node native packages will use Deno's native implementations
- Using `alias` to replace `node-fetch` and `cross-fetch` with Deno's native fetch
- Bespoke `writeBundledIIFECode` plugin that writes a file with `{ code, ipfsCid }` exports
- Bespoke `emitMetadataFile` plugin that writes a `-metadata.json` file containing the ipfsCid of the bundled code

#### Initial exports:

| Export                   | Type     | Description                                                                                                                                                                                                                                      |
| ------------------------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `getRollupConfig`        | Function | Creates a Rollup configuration for bundling LIT actions with all necessary plugins configured in the correct order. Takes a `LitActionBundlerConfig` object with parameters like output directory, source file path, and TypeScript config path. |
| `getLitBundleContext`    | Function | Retrieves the shared bundler context from the Rollup plugin context. Used by plugins to access shared state during the bundling process.                                                                                                         |
| `LitBundleContext`       | Type     | Interface defining the structure for tracking chunk file names and IDs during the Rollup bundling process.                                                                                                                                       |
| `getCompiledHandlerCode` | Function | Utility function that retrieves the compiled handler code from the Rollup output bundle. Used by plugins that need to access the compiled code, such as for computing IPFS CIDs or generating metadata files.                                    |
